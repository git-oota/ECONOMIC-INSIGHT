<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECONOMIC INSIGHT - Study Seminar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #fdfbf7; color: #1a202c; }
        .slide-container { min-height: calc(100vh - 160px); display: flex; align-items: center; justify-content: center; }
        .slide { display: none; width: 100%; animation: fadeIn 0.4s ease-out; }
        .slide.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .chart-box { position: relative; width: 100%; max-width: 600px; height: 300px; margin: 0 auto; }
    </style>
</head>
<body class="antialiased">
    <nav class="bg-white border-b sticky top-0 z-50 px-4 py-3 shadow-sm">
        <div class="max-w-5xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <a href="../index.html" id="home-link" class="flex items-center gap-1 text-gray-500 hover:text-black transition font-bold text-sm">
                    <i class="ph ph-house"></i> <span data-i18n="nav_home">TOP</span>
                </a>
                <div class="h-4 w-px bg-gray-300"></div>
                <span class="font-black text-blue-600 hidden sm:inline" data-i18n="nav_title">ECONOMIC SEMINAR</span>
            </div>
            <div class="flex items-center gap-4">
                <select id="langSet" class="text-xs bg-gray-100 px-2 py-1 rounded font-bold outline-none" onchange="toggleLanguage()">
                    <option value="ja">日本語</option>
                    <option value="en">English</option>
                </select>
                <span id="page-num" class="text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-full">1 / 10</span>
                <div class="flex gap-1">
                    <button id="prev-btn" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 disabled:opacity-20 text-xl text-gray-800">◀︎</button>
                    <button id="next-btn" class="w-10 h-10 flex items-center justify-center rounded-full bg-blue-600 text-white hover:bg-blue-700 text-xl">▶︎</button>
                </div>
            </div>
        </div>
        <div class="w-full bg-gray-100 h-1 mt-3"><div id="progress" class="bg-blue-500 h-1 transition-all duration-500" style="width: 10%"></div></div>
    </nav>

    <main class="max-w-4xl mx-auto px-4 py-8">
        <div class="slide-container">
            <div id="slide-1" class="slide active text-center">
                <h1 class="text-5xl md:text-7xl font-black text-gray-900 mb-8 leading-tight" data-i18n="s1_title">お金の価値は<br><span class="text-blue-600">「金利」</span>と<span class="text-orange-500">「為替」</span>で決まる</h1>
                <p class="text-xl text-gray-500 mb-12" data-i18n="s1_desc">「100円」は明日も同じ価値でしょうか？<br>中学生のうちに知っておきたい、経済の最強ルール。</p>
            </div>
            <div id="slide-2" class="slide">
                <h2 class="text-3xl font-black mb-8 flex items-center gap-3"><i class="ph ph-bank text-blue-600"></i> <span data-i18n="s2_header">金利 ＝ お金の「レンタル料」</span></h2>
                <div class="bg-white rounded-3xl p-10 shadow-sm border space-y-6">
                    <p class="text-lg leading-relaxed text-gray-700" data-i18n="s2_body">お金を銀行に預けることは、銀行に「貸す」ということです。そのお礼として受け取るのが利子、その割合が金利です。</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-6 rounded-2xl border border-blue-100"><h4 class="font-bold text-blue-700 mb-2" data-i18n="s2_high_title">金利が高い国</h4><p class="text-sm" data-i18n="s2_high_desc">銀行が「もっと貸して！」と言っている状態。お金を預ける人が増えます。</p></div>
                        <div class="bg-red-50 p-6 rounded-2xl border border-red-100"><h4 class="font-bold text-red-700 mb-2" data-i18n="s2_low_title">金利が低い国</h4><p class="text-sm" data-i18n="s2_low_desc">銀行にお金が余っている状態。預けてもあまり増えません。</p></div>
                    </div>
                </div>
            </div>
            <div id="slide-3" class="slide">
                <h2 class="text-3xl font-black mb-8 text-orange-600"><i class="ph ph-hamburger"></i> <span data-i18n="s3_header">インフレ ＝ 物価の上昇</span></h2>
                <div class="bg-white rounded-3xl p-10 shadow-sm border text-center">
                    <input type="range" id="inf-range" min="0" max="20" step="0.5" value="3" class="w-full h-3 bg-orange-200 rounded-lg appearance-none mb-10">
                    <div class="flex justify-around items-end h-32">
                        <div><div class="bg-gray-300 w-16 h-20 rounded-t-lg mx-auto"></div><p class="text-xs font-bold mt-4 text-gray-400" data-i18n="s3_last">去年: 100円</p></div>
                        <div><i class="ph ph-hamburger text-5xl text-orange-500 mb-2"></i><div id="inf-bar" class="bg-orange-500 w-16 h-24 rounded-t-lg mx-auto"></div><p class="text-xs font-bold mt-4 text-orange-600"><span data-i18n="s3_this">今年:</span> <span id="inf-price">103</span><span data-i18n="yen">円</span></p></div>
                    </div>
                </div>
            </div>
            <div id="slide-4" class="slide text-center"><h2 class="text-3xl font-black mb-8 text-green-600" data-i18n="s4_header">実質金利の計算</h2><div class="bg-gray-900 text-white p-12 rounded-3xl text-5xl font-black" id="calc-res">-2.5%</div></div>
            <div id="slide-5" class="slide text-center"><h2 class="text-3xl font-black mb-8 text-blue-600" data-i18n="s5_header">日本の現状</h2><div class="bg-white p-10 rounded-3xl border"><div class="chart-box"><canvas id="japanChart"></canvas></div></div></div>
            <div id="slide-6" class="slide"><h2 class="text-3xl font-black mb-8 text-blue-600" data-i18n="s6_header">為替と円安・円高</h2><div class="grid grid-cols-2 gap-8 text-center"><div class="p-8 bg-red-50 rounded-2xl border border-red-100"><h4 class="text-red-600 font-black mb-2" data-i18n="s6_weak">円安</h4><p class="text-2xl font-black">1$=150YEN</p></div><div class="p-8 bg-blue-50 rounded-2xl border border-blue-100"><h4 class="text-blue-600 font-black mb-2" data-i18n="s6_strong">円高</h4><p class="text-2xl font-black">1$=100YEN</p></div></div></div>
            <div id="slide-7" class="slide"><h2 class="text-3xl font-black mb-8 text-red-600" data-i18n="s7_header">なぜ「円安」なの？</h2><div class="flex items-center justify-between bg-gray-50 p-10 rounded-3xl border"><div>JAPAN<br>0.25%</div><div class="flex-grow flex flex-col items-center mx-10"><div class="w-full h-1 bg-blue-200 relative"><div class="absolute right-0 top-1/2 -translate-y-1/2 w-6 h-6 bg-blue-600 rounded-full animate-ping"></div></div><p class="text-xs font-black text-blue-600 mt-4" data-i18n="s7_move">お金が移動！</p></div><div class="text-blue-600 font-bold">USA<br>5.0%</div></div></div>
            <div id="slide-8" class="slide text-center"><h2 class="text-3xl font-black mb-8 text-orange-600" data-i18n="s8_header">生活への影響</h2><div class="grid grid-cols-2 gap-4"><div class="bg-red-50 p-8 rounded-3xl"><h4 class="font-bold text-red-600 mb-2" data-i18n="s8_bad">困ること</h4><p class="text-xs" data-i18n="s8_b1">物価高、エネルギー高騰</p></div><div class="bg-green-50 p-8 rounded-3xl"><h4 class="font-bold text-green-600 mb-2" data-i18n="s8_good">良いこと</h4><p class="text-xs" data-i18n="s8_g1">輸出、観光業の活性化</p></div></div></div>
            <div id="slide-9" class="slide text-center"><h2 class="text-3xl font-black mb-8 text-blue-600" data-i18n="s9_header">各国の考え方</h2><div class="space-y-4 text-left"><div class="p-6 bg-blue-50 rounded-2xl"><h5>USA</h5><p class="text-sm" data-i18n="s9_usa">インフレを抑えるため金利を上げる</p></div><div class="p-6 bg-red-50 rounded-2xl"><h5>JAPAN</h5><p class="text-sm" data-i18n="s9_jp">景気への配慮から慎重に上げる</p></div></div></div>
            <div id="slide-10" class="slide text-center"><div class="bg-blue-600 text-white rounded-[3rem] p-16 shadow-2xl"><h2 class="text-5xl font-black mb-10" data-i18n="s10_title">学びを未来へ</h2><div class="flex flex-col sm:flex-row gap-6 justify-center"><button onclick="changeSlide(-9)" class="bg-blue-500 px-10 py-4 rounded-full font-black text-lg">Restart</button><a href="../index.html" id="bottom-home" class="bg-white text-blue-600 px-10 py-4 rounded-full font-black text-lg shadow-lg" data-i18n="s10_home">Home</a></div></div></div>
        </div>
    </main>

    <script>
        const i18n = {
            ja: {
                nav_home: "TOP", nav_title: "経済セミナー", s1_title: "お金の価値は<br><span class='text-blue-600'>「金利」</span>と<span class='text-orange-500'>「為替」</span>で決まる", s1_desc: "「100円」は明日も同じ価値でしょうか？",
                s2_header: "金利 ＝ お金の「レンタル料」", s2_body: "お金を銀行に預けることは、銀行に「貸す」ということです。",
                s2_high_title: "金利が高い国", s2_high_desc: "お金を預ける人が増えます。", s2_low_title: "金利が低い国", s2_low_desc: "預けてもあまり増えません。",
                s3_header: "インフレ ＝ 物価の上昇", s3_last: "去年: 100円", s3_this: "今年:", yen: "円",
                s4_header: "実質金利の計算", s5_header: "日本の現状", s6_header: "為替と円安・円高", s6_weak: "円安", s6_strong: "円高",
                s7_header: "なぜ「円安」なの？", s7_move: "お金が移動！", s8_header: "生活への影響", s8_bad: "困ること", s8_b1: "物価高、エネルギー高騰", s8_good: "良いこと", s8_g1: "輸出、観光業の活性化",
                s9_header: "各国の考え方", s9_usa: "インフレを抑えるため金利を上げる", s9_jp: "景気への配慮から慎重に上げる",
                s10_title: "学びを未来へ", s10_home: "ニュースTOPへ"
            },
            en: {
                nav_home: "HOME", nav_title: "ECON SEMINAR", s1_title: "Value set by<br><span class='text-blue-600'>Interest</span> & <span class='text-orange-500'>Forex</span>", s1_desc: "Is '100 Yen' worth the same tomorrow?",
                s2_header: "Interest = Rental Fee", s2_body: "Saving money is like lending it to the bank.",
                s2_high_title: "High Rate Country", s2_high_desc: "More people will save money.", s2_low_title: "Low Rate Country", s2_low_desc: "Money won't grow much.",
                s3_header: "Inflation = Rising Prices", s3_last: "Last: 100 Yen", s3_this: "This Year:", yen: "Yen",
                s4_header: "Real Rate Calc", s5_header: "Status: Japan", s6_header: "Forex: Strong vs Weak", s6_weak: "Weak Yen", s6_strong: "Strong Yen",
                s7_header: "Why Weak Yen?", s7_move: "Money flows!", s8_header: "Impacts", s8_bad: "Bad", s8_b1: "Inflation, high energy costs", s8_good: "Good", s8_g1: "Exports and tourism up",
                s9_header: "Global Policy", s9_usa: "Raising rates to fight inflation", s9_jp: "Careful hikes for economy",
                s10_title: "For the Future", s10_home: "Back to Home"
            }
        };

        let currentSlide = 1;
        let chartInstance = null;

        function toggleLanguage() {
            const lang = document.getElementById('langSet').value;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (i18n[lang][key]) el.innerHTML = i18n[lang][key];
            });
            // ★TOPへのリンクに現在の言語設定を付加する
            document.getElementById('home-link').href = `../index.html?lang=${lang}`;
            document.getElementById('bottom-home').href = `../index.html?lang=${lang}`;
            if (currentSlide === 5) renderChart(true);
        }

        function changeSlide(step) {
            currentSlide += step;
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.getElementById(`slide-${currentSlide}`).classList.add('active');
            document.getElementById('page-num').innerText = `${currentSlide} / 10`;
            document.getElementById('progress').style.width = `${currentSlide * 10}%`;
            document.getElementById('prev-btn').disabled = currentSlide === 1;
            document.getElementById('next-btn').disabled = currentSlide === 10;
            if (currentSlide === 5) renderChart();
        }

        document.getElementById('prev-btn').onclick = () => changeSlide(-1);
        document.getElementById('next-btn').onclick = () => changeSlide(1);

        document.getElementById('inf-range').oninput = (e) => {
            const val = parseFloat(e.target.value);
            document.getElementById('inf-price').innerText = Math.round(100 * (1 + val/100));
            document.getElementById('inf-bar').style.height = (24 + (val * 4)) + 'px';
        };

        function renderChart(forceUpdate = false) {
            const lang = document.getElementById('langSet').value;
            const labels = lang === 'ja' ? ['金利', 'インフレ', '実質'] : ['Rate', 'Inf', 'Real'];
            const ctx = document.getElementById('japanChart').getContext('2d');
            if (chartInstance && forceUpdate) chartInstance.destroy();
            chartInstance = new Chart(ctx, { type: 'bar', data: { labels: labels, datasets: [{ data: [0.25, 3.0, -2.75], backgroundColor: ['#3b82f6', '#f97316', '#ef4444'] }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } } });
        }

        window.onload = () => {
            const params = new URLSearchParams(window.location.search);
            const initialLang = params.get('lang');
            if (initialLang) document.getElementById('langSet').value = initialLang;
            toggleLanguage();
        };
    </script>
</body>
</html>
